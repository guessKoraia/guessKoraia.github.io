<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium EDM Designer</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
    <style>
        :root { --bg-color: #1a3c34; }
        body {
            font-family: 'Pretendard', sans-serif;
            background: #f4f4f7;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 20px;
            color: #333;
        }
        
        /* ì„¤ì • íŒ¨ë„ */
        .controls {
            background: white;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            width: 100%;
            max-width: 850px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        .full { grid-column: span 2; }
        .input-group { display: flex; flex-direction: column; gap: 8px; }
        label { font-weight: 700; font-size: 13px; color: #666; }
        input, select, textarea {
            padding: 12px;
            border: 1px solid #e1e1e1;
            border-radius: 10px;
            font-size: 14px;
            font-family: inherit;
        }
        textarea { height: 90px; resize: none; line-height: 1.5; }

        /* ì•„ì´ì½˜ ì„ íƒ ê·¸ë¦¬ë“œ */
        .icon-selector {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 10px;
            margin-top: 5px;
        }
        .icon-option {
            border: 2px solid #eee;
            border-radius: 8px;
            padding: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: 0.2s;
            background: #fff;
        }
        .icon-option svg { width: 24px; height: 24px; stroke: #333; fill: none; stroke-width: 2; }
        .icon-option:hover { border-color: #1a3c34; background: #f0fdf4; }
        .icon-option.active { border-color: #1a3c34; background: #1a3c34; }
        .icon-option.active svg { stroke: white; }

        /* ë²„íŠ¼ */
        .btn-group { display: flex; gap: 10px; grid-column: span 2; margin-top: 10px; }
        button {
            flex: 1; padding: 16px; border-radius: 10px; border: none;
            font-weight: 700; cursor: pointer; transition: 0.2s; font-size: 15px;
        }
        .btn-random { background: #e2e8f0; color: #475569; }
        .btn-save { background: #1a3c34; color: white; }
        button:hover { filter: brightness(0.9); transform: translateY(-1px); }

        /* ì´ë¯¸ì§€ ì˜ì—­ */
        #capture-area {
            width: 800px;
            height: 450px;
            background-color: var(--bg-color);
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            padding: 60px;
            box-sizing: border-box;
            color: white;
            position: relative;
            transition: 0.5s cubic-bezier(0.19, 1, 0.22, 1);
        }

        .icon-display {
            position: absolute; top: 60px; left: 60px;
            width: 100px; height: 100px;
        }
        .icon-display svg {
            width: 100%; height: 100%;
            stroke: white; fill: none; stroke-width: 1.5;
            stroke-linecap: round; stroke-linejoin: round;
        }

        .title { font-size: 52px; font-weight: 800; margin-bottom: 20px; line-height: 1.2; word-break: keep-all; }
        .description { font-size: 19px; font-weight: 400; opacity: 0.8; line-height: 1.7; white-space: pre-wrap; }

        /* ì¤‘ì•™ ë ˆì´ì•„ì›ƒ */
        .layout-middle { justify-content: center !important; align-items: center !important; text-align: center; }
        .layout-middle .icon-display { position: static; margin-bottom: 30px; }
    </style>
</head>
<body>

    <div class="controls">
        <div class="input-group full">
            <label>ì•„ì´ì½˜ ì„ íƒ</label>
            <div class="icon-selector" id="icon-picker">
                </div>
        </div>
        
        <div class="input-group full">
            <label>ì œëª©</label>
            <input type="text" id="in-title" value="ì²«ê±¸ìŒ: ì‹œìŠ¤í…œ ì‹œì‘í•˜ê¸°">
        </div>
        
        <div class="input-group full">
            <label>ë‚´ìš© (ê°œí–‰/ê³µë°± ì»¤ìŠ¤í…€ ê°€ëŠ¥)</label>
            <textarea id="in-desc">ê³„ì • ìƒì„±ë¶€í„° ë¡œê·¸ì¸, ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •ê¹Œì§€.
íšŒì›ì‚¬ ì‹œìŠ¤í…œ ì´ìš©ì„ ìœ„í•œ ê°€ì¥ ì²« ë‹¨ê³„ë¥¼ ì•ˆë‚´í•©ë‹ˆë‹¤.</textarea>
        </div>

        <div class="input-group">
            <label>ë ˆì´ì•„ì›ƒ</label>
            <select id="in-layout">
                <option value="top">ìƒë‹¨í˜• (ì¢Œì¸¡ í•˜ë‹¨ ì •ë ¬)</option>
                <option value="middle">ì¤‘ì•™í˜• (ê°€ìš´ë° ì •ë ¬)</option>
            </select>
        </div>

        <div class="input-group">
            <label>ë°°ê²½ ìŠ¤íƒ€ì¼</label>
            <button class="btn-random" onclick="randomize()">ğŸ¨ ë°°ê²½ìƒ‰ ëœë¤ ë³€ê²½</button>
        </div>
        
        <div class="btn-group">
            <button class="btn-save" onclick="saveImage()">ğŸ’¾ ê³ í™”ì§ˆ ì´ë¯¸ì§€ë¡œ ì €ì¥í•˜ê¸°</button>
        </div>
    </div>

    <div id="capture-area">
        <div class="icon-display" id="main-icon">
            </div>
        <div class="text-box">
            <div class="title" id="display-title">ì²«ê±¸ìŒ: ì‹œìŠ¤í…œ ì‹œì‘í•˜ê¸°</div>
            <div class="description" id="display-desc">ê³„ì • ìƒì„±ë¶€í„° ë¡œê·¸ì¸, ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •ê¹Œì§€.
íšŒì›ì‚¬ ì‹œìŠ¤í…œ ì´ìš©ì„ ìœ„í•œ ê°€ì¥ ì²« ë‹¨ê³„ë¥¼ ì•ˆë‚´í•©ë‹ˆë‹¤.</div>
        </div>
    </div>

    <script>
        // ì•„ì´ì½˜ ë°ì´í„° (Lucide/Feather ìŠ¤íƒ€ì¼ í”„ë¦¬ì…‹)
        const iconLibrary = {
            door: '<path d="M15 3H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h9M10 12h11m0 0l-4-4m4 4l-4 4"/>',
            lock: '<rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/>',
            bell: '<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/>',
            rocket: '<path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"/><path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/><path d="M9 12H4s.55-3.03 2-5c1.62-2.2 5-3 5-3"/><path d="M12 15v5s3.03-.55 5-2c2.2-1.62 3-5 3-5"/>',
            user: '<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/>',
            mail: '<path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/>',
            check: '<polyline points="20 6 9 17 4 12"/>',
            info: '<circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/>'
        };

        const picker = document.getElementById('icon-picker');
        const mainIcon = document.getElementById('main-icon');

        // ì•„ì´ì½˜ ì„ íƒê¸° ìƒì„±
        Object.keys(iconLibrary).forEach((key, index) => {
            const div = document.createElement('div');
            div.className = `icon-option ${index === 0 ? 'active' : ''}`;
            div.innerHTML = `<svg viewBox="0 0 24 24">${iconLibrary[key]}</svg>`;
            div.onclick = () => {
                document.querySelectorAll('.icon-option').forEach(el => el.classList.remove('active'));
                div.classList.add('active');
                mainIcon.innerHTML = `<svg viewBox="0 0 24 24">${iconLibrary[key]}</svg>`;
            };
            picker.appendChild(div);
            if(index === 0) mainIcon.innerHTML = `<svg viewBox="0 0 24 24">${iconLibrary[key]}</svg>`;
        });

        // ì‹¤ì‹œê°„ í…ìŠ¤íŠ¸ ë°˜ì˜
        const inTitle = document.getElementById('in-title');
        const inDesc = document.getElementById('in-desc');
        inTitle.oninput = () => document.getElementById('display-title').innerText = inTitle.value;
        inDesc.oninput = () => document.getElementById('display-desc').innerText = inDesc.value;

        // ë ˆì´ì•„ì›ƒ ë³€ê²½
        document.getElementById('in-layout').onchange = (e) => {
            document.getElementById('capture-area').className = e.target.value === 'middle' ? 'layout-middle' : '';
        };

        // ëœë¤ ìƒ‰ìƒ
        const colors = ['#1a3c34', '#2c3e50', '#2d3436', '#1e272e', '#004d40', '#30336b', '#130f40', '#222f3e'];
        function randomize() {
            const color = colors[Math.floor(Math.random() * colors.length)];
            document.getElementById('capture-area').style.setProperty('--bg-color', color);
        }

        // ì´ë¯¸ì§€ ì €ì¥
        function saveImage() {
            const btn = document.querySelector('.btn-save');
            btn.innerText = "âš™ï¸ ì´ë¯¸ì§€ ì œì‘ ì¤‘...";
            html2canvas(document.getElementById('capture-area'), {
                scale: 2,
                backgroundColor: null
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = `EDM_Design_${Date.now()}.png`;
                link.href = canvas.toDataURL();
                link.click();
                btn.innerText = "ğŸ’¾ ê³ í™”ì§ˆ ì´ë¯¸ì§€ë¡œ ì €ì¥í•˜ê¸°";
            });
        }
    </script>
</body>
</html>